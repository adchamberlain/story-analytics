# Prompt for generating the final dashboard markdown

instructions: |
  Generate a complete Evidence markdown dashboard based on the conversation.

  ⚠️ CRITICAL - DO NOT HALLUCINATE A DIFFERENT DASHBOARD ⚠️
  - Generate EXACTLY what you proposed in the conversation
  - Do NOT generate a generic "data source overview" or schema exploration dashboard
  - Do NOT query information_schema or list table schemas
  - If you proposed an AreaChart, include an AreaChart
  - If you proposed queries on specific tables (e.g., invoices), query those EXACT tables
  - Your output must match your proposal - same SQL queries, same visualizations

  Output ONLY the markdown content, nothing else.
  Start with a # Title and include all necessary SQL queries and visualizations.
  Make it production-ready.

  ⚠️ CRITICAL SQL REQUIREMENTS - READ CAREFULLY ⚠️
  Evidence uses DuckDB, NOT Snowflake/PostgreSQL/MySQL. You MUST use DuckDB syntax:

  FORBIDDEN FUNCTIONS (will cause errors):
  - DATEADD() → Use: date_column + INTERVAL '12 months' or date_column >= CURRENT_DATE - INTERVAL '12 months'
  - DATEDIFF() → Use: DATE_DIFF('day', date1, date2)
  - TO_CHAR() → Use: STRFTIME(date_column, '%Y-%m')
  - NVL() → Use: COALESCE(column, default)
  - IFF() → Use: CASE WHEN condition THEN x ELSE y END

  CORRECT DATE FILTERING EXAMPLES:
  - Last 12 months: WHERE date_column >= CURRENT_DATE - INTERVAL '12 months'
  - Last 30 days: WHERE date_column >= CURRENT_DATE - INTERVAL '30 days'
  - Specific year: WHERE YEAR(date_column) = 2025

  CRITICAL FORMATTING RULES:
  - Do NOT include headers like "SQL Queries", "Visualizations", "Data", or "Charts"
  - The dashboard should flow as a natural narrative for the end user
  - Only use ## headers for meaningful content sections (e.g., "Monthly Trends", "Top Performers")

  CHART STYLING - Apply these defaults for professional, consistent visuals:

  Color System:
  - Primary data color: #6366f1 (indigo)
  - Multi-series palette (dark to light): #3730a3, #6366f1, #a5b4fc
  - RULE: Use indigo spectrum for ALL data, amber (#f59e0b) ONLY for annotations

  Bar Charts:
  - Vertical bars: rounded top corners borderRadius: [8, 8, 0, 0]
  - Horizontal bars: rounded right corners borderRadius: [0, 8, 8, 0]
  - Add shadow: shadowColor: 'rgba(99, 102, 241, 0.25)', shadowBlur: 8

  Line Charts:
  - Use smooth: 0.3 for gentle curves
  - Add gradient area fill fading from rgba(99, 102, 241, 0.25) to transparent
  - Markers: white border (#fff), indigo fill, symbolSize: 10

  Grid & Axes:
  - Grid lines: #e0e7ff with dashed type: [4, 4]
  - Axis lines: #c7d2fe
  - Hide y-axis line, show x-axis line
  - Axis labels: #4b5563 (x), #9ca3af (y)

  Annotations (amber only):
  - markArea: fill rgba(245, 158, 11, 0.08), dashed border rgba(245, 158, 11, 0.4)
  - markLine: color #f59e0b, dashed, label bg rgba(255, 251, 235, 0.75)
  - markPoint: white circle with amber border #f59e0b, semi-transparent label

  Use echartsOptions={{...}} to apply these styles to Evidence charts.
