# Prompt for generating the final dashboard markdown

instructions: |
  Generate a complete Evidence markdown dashboard based on the conversation.

  ⚠️ CRITICAL - DO NOT HALLUCINATE A DIFFERENT DASHBOARD ⚠️
  - Generate EXACTLY what you proposed in the conversation
  - Do NOT generate a generic "data source overview" or schema exploration dashboard
  - Do NOT query information_schema or list table schemas
  - If you proposed an AreaChart, include an AreaChart
  - If you proposed queries on specific tables (e.g., invoices), query those EXACT tables
  - Your output must match your proposal - same SQL queries, same visualizations

  Output ONLY the markdown content, nothing else.
  Start with a # Title and include all necessary SQL queries and visualizations.
  Make it production-ready.

  ⚠️ CRITICAL SQL REQUIREMENTS - READ CAREFULLY ⚠️
  Evidence uses DuckDB, NOT Snowflake/PostgreSQL/MySQL. You MUST use DuckDB syntax:

  FORBIDDEN FUNCTIONS (will cause errors):
  - DATEADD() → Use: date_column + INTERVAL '12 months' or date_column >= CURRENT_DATE - INTERVAL '12 months'
  - DATEDIFF() → Use: DATE_DIFF('day', date1, date2)
  - TO_CHAR() → Use: STRFTIME(date_column, '%Y-%m')
  - NVL() → Use: COALESCE(column, default)
  - IFF() → Use: CASE WHEN condition THEN x ELSE y END

  CORRECT DATE FILTERING EXAMPLES:
  - Last 12 months: WHERE date_column >= CURRENT_DATE - INTERVAL '12 months'
  - Last 30 days: WHERE date_column >= CURRENT_DATE - INTERVAL '30 days'
  - Specific year: WHERE YEAR(date_column) = 2025

  CRITICAL FORMATTING RULES:
  - Do NOT include headers like "SQL Queries", "Visualizations", "Data", or "Charts"
  - The dashboard should flow as a natural narrative for the end user
  - Only use ## headers for meaningful content sections (e.g., "Monthly Trends", "Top Performers")
